{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Stacked area chart of tornado counts by F-rating per year with x-axis ending at 2024 and legend hidden.",
  "data": {
    "url": "https://raw.githubusercontent.com/James-Monash/FIT3179_Assignment_2/main/tornado_counts_by_year_long.csv",
    "format": { "type": "csv", "parse": { "YEAR": "number", "COUNT": "number" } }
  },
  "width": 786,
  "height": 450,
  "transform": [
    { "filter": "datum.YEAR <= 2024" },
    { "aggregate": [ { "op": "sum", "field": "COUNT", "as": "COUNT" } ], "groupby": [ "YEAR", "RATING" ] }
  ],
  "mark": { "type": "area", "interpolate": "monotone", "opacity": 0.9 },
  "encoding": {
    "x": {
      "field": "YEAR",
      "type": "quantitative",
      "scale": { "domainMax": 2024 },
      "axis": {
        "title": "Year",
        "format": "d",
        "labelAngle": 0,
        "labelFont": "Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif",
        "titleFont": "Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif",
        "labelFontSize": 12,
        "titleFontSize": 14,
        "labelFontWeight": 600,
        "titleFontWeight": 600,
        "tickSize": 4
      }
    },
    "y": {
      "field": "COUNT",
      "type": "quantitative",
      "stack": "zero",
      "axis": {
        "title": "Number of tornadoes",
        "labelFont": "Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif",
        "titleFont": "Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif",
        "labelFontSize": 12,
        "titleFontSize": 14,
        "labelFontWeight": 600,
        "titleFontWeight": 600,
        "tickSize": 4
      }
    },
    "color": {
      "field": "RATING",
      "type": "nominal",
      "scale": {
        "domain": ["F0", "F1", "F2", "F3", "F4", "F5"],
        "range": ["#999999", "#E69F00", "#56B4E9", "#009E73", "#984ea3", "#0B3D91"]
      },
      "legend": null
    },
    "order": { "field": "RATING", "type": "ordinal" },
    "tooltip": [
      { "field": "YEAR", "type": "quantitative", "title": "Year:" },
      { "field": "RATING", "type": "nominal", "title": "Rating:" },
      { "field": "COUNT", "type": "quantitative", "title": "Count:" }
    ]
  },
  "config": {
    "font": "Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif",
    "view": { "stroke": "transparent" },
    "axis": {
      "labelFont": "Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif",
      "titleFont": "Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif",
      "labelFontSize": 12,
      "titleFontSize": 14,
      "labelFontWeight": 600,
      "titleFontWeight": 600,
      "gridColor": "#e6e6e6",
      "gridWidth": 0.8,
      "tickSize": 4
    },
    "legend": {
      "labelFont": "Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif",
      "titleFont": "Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif",
      "labelFontSize": 12,
      "titleFontSize": 14
    }
  }
}

